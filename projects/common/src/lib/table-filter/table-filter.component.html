<form [formGroup]="formGroup" (submit)="onSubmit()">
  <div *ngFor="let field of fields; let last = last" class="flex flex-row mt-5 gap-10">
    <div *ngFor="let column of field.row">
      <div class="flex flex-col">
        <div class="block uppercase font-bold tracking-wide text-gray-500 text-sm mb-1">
          {{ column.label }}
        </div>
        <div class="flex flex-row gap-5">
          <div *ngFor="let control of column.fields">
            <plg-datepicker [formControlName]="control.name" *ngIf="control.type === 'date'"></plg-datepicker>
            <plg-input
              *ngIf="control.type === 'text' || control.type === 'number'"
              [formControlName]="control.name"
              [placeholder]="control.placeholder"
            ></plg-input>
            <plg-select
              *ngIf="control.type === 'select'"
              [placeholder]="control.placeholder"
              [options]="control.options"
              [formControlName]="control.name"
            ></plg-select>
          </div>
        </div>
      </div>
    </div>
    <div class="flex items-end pb-1" *ngIf="last">
      <plg-button fill="success" roundness="small" type="submit">Search</plg-button>
    </div>
  </div>
</form>
